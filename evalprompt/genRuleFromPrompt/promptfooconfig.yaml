# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
prompts:
  - id: file://prompts.txt

providers:
  - id: azure:chat:gpt-4o
    config:
      apiHost: "apicevaluationtestai.openai.azure.com"
      maxtoken: 15000

tests:
  - vars:
      userprompt: "Property names must be lower snake case ie 'camelCase', All operations should have operationId, All resources in a response should have an `id` `created_at` and `updated_at` property, POST requests should return a 201 or 202 status on success instead of 200. Properties should have an example"
    assert:
      - type: javascript
        value: file://spectral.mjs
        config:
          keywords:
            [
              "lower_snake_case",
              "operationId",
              "updated_at",
              "id",
              "created_at",
              "201",
              "202",
            ]

  - vars:
      userprompt: "POST requests should return a 201 or 202 status on success instead of 200. GET requests that have an ID at the end of their path (ie /teams/{teamID}) should define a 404. All operation URL path components MUST be nouns, not verbs. Properties should have an example. Properties that sounds like they are dates should use format: datetime or format: timestamp"
    assert:
      - type: javascript
        value: file://spectral.mjs
        config:
          keywords: ["datetime", "201", "202", "404"]
